diff --git a/.gitignore b/.gitignore
index 61fa39967b..7b2ef2b269 100644
--- a/.gitignore
+++ b/.gitignore
@@ -20,3 +20,9 @@ GTAGS
 *.swp
 *.patch
 *.gcov
+
+build-cfi-no-debug/
+build-cfi/
+build-no-cfi/
+compile_commands.json
+
diff --git a/include/qemu/compiler.h b/include/qemu/compiler.h
index c797f0d457..2c35ce1dd8 100644
--- a/include/qemu/compiler.h
+++ b/include/qemu/compiler.h
@@ -181,7 +181,7 @@
  * If CFI is enabled, use an attribute to disable cfi-icall on the following
  * function
  */
-#define QEMU_DISABLE_CFI __attribute__((no_sanitize("cfi-icall")))
+#define QEMU_DISABLE_CFI
 #else
 /* If CFI is not enabled, use an empty define to not change the behavior */
 #define QEMU_DISABLE_CFI
