diff --git a/.gitignore b/.gitignore
index 61fa39967b..a8b1d514ba 100644
--- a/.gitignore
+++ b/.gitignore
@@ -1,5 +1,9 @@
 /GNUmakefile
 /build/
+/build-cfi/
+/build-cfi-no-debug/
+/build-no-cfi/
+compile_commands.json
 /.cache/
 /.vscode/
 *.pyc
diff --git a/hw/virtio/vhost.c b/hw/virtio/vhost.c
index f50180e60e..2e438ee705 100644
--- a/hw/virtio/vhost.c
+++ b/hw/virtio/vhost.c
@@ -13,6 +13,7 @@
  * GNU GPL, version 2 or (at your option) any later version.
  */
 
+#include "qemu/compiler.h"
 #include "qemu/osdep.h"
 #include "qapi/error.h"
 #include "hw/virtio/vhost.h"
@@ -1431,6 +1432,7 @@ static void vhost_virtqueue_cleanup(struct vhost_virtqueue *vq)
     }
 }
 
+__attribute__((no_sanitize("cfi")))
 int vhost_dev_init(struct vhost_dev *hdev, void *opaque,
                    VhostBackendType backend_type, uint32_t busyloop_timeout,
                    Error **errp)
